<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>M√°y t√≠nh ƒêi·ªÉm Tuy·ªÉn sinh</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .calculator-container {
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        padding: 40px;
        max-width: 600px;
        width: 100%;
      }

      .header {
        text-align: center;
        margin-bottom: 30px;
      }

      .header h1 {
        font-size: 2.5em;
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 10px;
      }

      .header p {
        color: #666;
        font-size: 1.1em;
      }

      .form-group {
        margin-bottom: 25px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #333;
        font-size: 1.1em;
      }

      .form-row {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 20px;
        margin-bottom: 25px;
      }

      .form-control {
        width: 100%;
        padding: 15px;
        border: 2px solid #e9ecef;
        border-radius: 10px;
        font-size: 16px;
        transition: all 0.3s ease;
        background: white;
      }

      .form-control:focus {
        outline: none;
        border-color: #4facfe;
        box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
        transform: translateY(-2px);
      }

      .btn {
        width: 100%;
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        color: white;
        border: none;
        padding: 18px;
        border-radius: 10px;
        font-size: 18px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin: 20px 0;
      }

      .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 35px rgba(79, 172, 254, 0.4);
      }

      .btn:active {
        transform: translateY(-1px);
      }

      .result-card {
        background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        color: white;
        padding: 30px;
        border-radius: 15px;
        margin-top: 25px;
        text-align: center;
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.5s ease;
      }

      .result-card.show {
        opacity: 1;
        transform: translateY(0);
      }

      .result-card.fail {
        background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
      }

      .result-score {
        font-size: 3em;
        font-weight: bold;
        margin-bottom: 10px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }

      .result-status {
        font-size: 1.4em;
        margin-bottom: 20px;
        font-weight: 600;
      }

      .result-details {
        background: rgba(255, 255, 255, 0.15);
        padding: 20px;
        border-radius: 10px;
        margin-top: 20px;
        text-align: left;
        backdrop-filter: blur(10px);
      }

      .detail-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 8px;
        padding: 5px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
      }

      .detail-row:last-child {
        border-bottom: none;
        font-weight: bold;
        font-size: 1.1em;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.02);
        }
        100% {
          transform: scale(1);
        }
      }

      @media (max-width: 768px) {
        .calculator-container {
          padding: 25px;
          margin: 10px;
        }

        .header h1 {
          font-size: 2em;
        }

        .form-row {
          grid-template-columns: 1fr;
        }

        .result-score {
          font-size: 2.5em;
        }
      }

      .icon {
        margin-right: 8px;
      }

      .highlight {
        background: rgba(255, 255, 255, 0.2);
        padding: 2px 6px;
        border-radius: 4px;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <div class="calculator-container">
      <div class="header">
        <h1>üéØ T√çNH ƒêI·ªÇM TUY·ªÇN SINH</h1>
        <p>Nh·∫≠p th√¥ng tin ƒë·ªÉ t√≠nh ƒëi·ªÉm v√† ki·ªÉm tra k·∫øt qu·∫£ tuy·ªÉn sinh</p>
      </div>

      <form id="calculatorForm">
        <div class="form-group">
          <label for="diemChuan">
            <span class="icon">üìä</span>ƒêi·ªÉm chu·∫©n c·ªßa h·ªôi ƒë·ªìng:
          </label>
          <input
            type="number"
            id="diemChuan"
            class="form-control"
            placeholder="Nh·∫≠p ƒëi·ªÉm chu·∫©n (VD: 30)"
            step="0.1"
            min="0"
            max="30"
            required
          />
        </div>

        <div class="form-row">
          <div>
            <label for="diemMon1">
              <span class="icon">üìù</span>ƒêi·ªÉm m√¥n th·ª© 1:
            </label>
            <input
              type="number"
              id="diemMon1"
              class="form-control"
              placeholder="0-10"
              step="0.1"
              min="0"
              max="10"
              required
            />
          </div>
          <div>
            <label for="diemMon2">
              <span class="icon">üìù</span>ƒêi·ªÉm m√¥n th·ª© 2:
            </label>
            <input
              type="number"
              id="diemMon2"
              class="form-control"
              placeholder="0-10"
              step="0.1"
              min="0"
              max="10"
              required
            />
          </div>
          <div>
            <label for="diemMon3">
              <span class="icon">üìù</span>ƒêi·ªÉm m√¥n th·ª© 3:
            </label>
            <input
              type="number"
              id="diemMon3"
              class="form-control"
              placeholder="0-10"
              step="0.1"
              min="0"
              max="10"
              required
            />
          </div>
        </div>

        <div class="form-row">
          <div>
            <label for="khuVuc">
              <span class="icon">üåç</span>Ch·ªçn khu v·ª±c:
            </label>
            <select id="khuVuc" class="form-control" required>
              <option value="">-- Ch·ªçn khu v·ª±c --</option>
              <option value="A">Khu v·ª±c A (+2 ƒëi·ªÉm)</option>
              <option value="B">Khu v·ª±c B (+1 ƒëi·ªÉm)</option>
              <option value="C">Khu v·ª±c C (+0.5 ƒëi·ªÉm)</option>
              <option value="X">Kh√¥ng thu·ªôc khu v·ª±c ∆∞u ti√™n</option>
            </select>
          </div>
          <div>
            <label for="doiTuong">
              <span class="icon">üë•</span>Ch·ªçn ƒë·ªëi t∆∞·ª£ng:
            </label>
            <select id="doiTuong" class="form-control" required>
              <option value="">-- Ch·ªçn ƒë·ªëi t∆∞·ª£ng --</option>
              <option value="1">ƒê·ªëi t∆∞·ª£ng 1 (+2.5 ƒëi·ªÉm)</option>
              <option value="2">ƒê·ªëi t∆∞·ª£ng 2 (+1.5 ƒëi·ªÉm)</option>
              <option value="3">ƒê·ªëi t∆∞·ª£ng 3 (+1 ƒëi·ªÉm)</option>
              <option value="0">Kh√¥ng thu·ªôc ƒë·ªëi t∆∞·ª£ng ∆∞u ti√™n</option>
            </select>
          </div>
        </div>

        <button type="button" class="btn pulse" onclick="tinhDiem()">
          üöÄ T√çNH ƒêI·ªÇM & KI·ªÇM TRA K·∫æT QU·∫¢
        </button>
      </form>

      <div id="ketQua" class="result-card">
        <div class="result-score" id="tongDiem">0</div>
        <div class="result-status" id="trangThai">Ch∆∞a x√°c ƒë·ªãnh</div>
        <div class="result-details" id="chiTiet"></div>
      </div>
    </div>

    <script>
      function tinhDiem() {
        // L·∫•y gi√° tr·ªã t·ª´ form
        const diemChuan =
          parseFloat(document.getElementById("diemChuan").value) || 0;
        const diemMon1 =
          parseFloat(document.getElementById("diemMon1").value) || 0;
        const diemMon2 =
          parseFloat(document.getElementById("diemMon2").value) || 0;
        const diemMon3 =
          parseFloat(document.getElementById("diemMon3").value) || 0;
        const khuVuc = document.getElementById("khuVuc").value;
        const doiTuong = document.getElementById("doiTuong").value;

        // Ki·ªÉm tra input
        if (diemChuan === 0) {
          alert("‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒëi·ªÉm chu·∫©n!");
          document.getElementById("diemChuan").focus();
          return;
        }

        if (!khuVuc) {
          alert("‚ö†Ô∏è Vui l√≤ng ch·ªçn khu v·ª±c!");
          document.getElementById("khuVuc").focus();
          return;
        }

        if (!doiTuong && doiTuong !== "0") {
          alert("‚ö†Ô∏è Vui l√≤ng ch·ªçn ƒë·ªëi t∆∞·ª£ng!");
          document.getElementById("doiTuong").focus();
          return;
        }

        // Ki·ªÉm tra ƒëi·ªÉm 0
        if (diemMon1 === 0 || diemMon2 === 0 || diemMon3 === 0) {
          hienThiKetQua(
            0,
            "KH√îNG ƒê·ªñ",
            "C√≥ m√¥n thi b·ªã ƒëi·ªÉm 0",
            diemChuan,
            diemMon1,
            diemMon2,
            diemMon3,
            0,
            0,
            false
          );
          return;
        }

        // T√≠nh ƒëi·ªÉm ∆∞u ti√™n khu v·ª±c
        let diemKhuVuc = 0;
        let tenKhuVuc = "";
        switch (khuVuc) {
          case "A":
            diemKhuVuc = 2;
            tenKhuVuc = "Khu v·ª±c A";
            break;
          case "B":
            diemKhuVuc = 1;
            tenKhuVuc = "Khu v·ª±c B";
            break;
          case "C":
            diemKhuVuc = 0.5;
            tenKhuVuc = "Khu v·ª±c C";
            break;
          case "X":
            diemKhuVuc = 0;
            tenKhuVuc = "Kh√¥ng ∆∞u ti√™n";
            break;
        }

        // T√≠nh ƒëi·ªÉm ∆∞u ti√™n ƒë·ªëi t∆∞·ª£ng
        let diemDoiTuong = 0;
        let tenDoiTuong = "";
        switch (doiTuong) {
          case "1":
            diemDoiTuong = 2.5;
            tenDoiTuong = "ƒê·ªëi t∆∞·ª£ng 1";
            break;
          case "2":
            diemDoiTuong = 1.5;
            tenDoiTuong = "ƒê·ªëi t∆∞·ª£ng 2";
            break;
          case "3":
            diemDoiTuong = 1;
            tenDoiTuong = "ƒê·ªëi t∆∞·ª£ng 3";
            break;
          case "0":
            diemDoiTuong = 0;
            tenDoiTuong = "Kh√¥ng ∆∞u ti√™n";
            break;
        }

        // T√≠nh t·ªïng ƒëi·ªÉm
        const tongDiem =
          diemMon1 + diemMon2 + diemMon3 + diemKhuVuc + diemDoiTuong;

        // X√°c ƒë·ªãnh k·∫øt qu·∫£
        const doDieu = tongDiem >= diemChuan;
        const trangThai = doDieu ? "TR√öNG TUY·ªÇN" : "KH√îNG ƒê·ªñ";
        const lyDo = doDieu
          ? "ƒê·∫°t ƒëi·ªÉm chu·∫©n v√† kh√¥ng c√≥ m√¥n 0 ƒëi·ªÉm"
          : "Kh√¥ng ƒë·ªß ƒëi·ªÉm chu·∫©n";

        hienThiKetQua(
          tongDiem,
          trangThai,
          lyDo,
          diemChuan,
          diemMon1,
          diemMon2,
          diemMon3,
          diemKhuVuc,
          diemDoiTuong,
          doDieu,
          tenKhuVuc,
          tenDoiTuong
        );
      }

      function hienThiKetQua(
        tongDiem,
        trangThai,
        lyDo,
        diemChuan,
        diemMon1,
        diemMon2,
        diemMon3,
        diemKhuVuc,
        diemDoiTuong,
        doDieu,
        tenKhuVuc = "",
        tenDoiTuong = ""
      ) {
        const ketQuaDiv = document.getElementById("ketQua");
        const tongDiemSpan = document.getElementById("tongDiem");
        const trangThaiSpan = document.getElementById("trangThai");
        const chiTietDiv = document.getElementById("chiTiet");

        // Hi·ªÉn th·ªã ƒëi·ªÉm v√† tr·∫°ng th√°i
        tongDiemSpan.textContent = tongDiem.toFixed(1);
        trangThaiSpan.textContent = trangThai;

        // Chi ti·∫øt t√≠nh ƒëi·ªÉm
        const diemCacMon = diemMon1 + diemMon2 + diemMon3;
        const diemUuTien = diemKhuVuc + diemDoiTuong;

        chiTietDiv.innerHTML = `
                <div class="detail-row">
                    <span>üéØ ƒêi·ªÉm 3 m√¥n thi:</span>
                    <span class="highlight">${diemMon1} + ${diemMon2} + ${diemMon3} = ${diemCacMon.toFixed(
          1
        )}</span>
                </div>
                <div class="detail-row">
                    <span>üåç ${tenKhuVuc}:</span>
                    <span class="highlight">+${diemKhuVuc}</span>
                </div>
                <div class="detail-row">
                    <span>üë• ${tenDoiTuong}:</span>
                    <span class="highlight">+${diemDoiTuong}</span>
                </div>
                <div class="detail-row">
                    <span>üìä T·ªïng ƒëi·ªÉm ∆∞u ti√™n:</span>
                    <span class="highlight">+${diemUuTien.toFixed(1)}</span>
                </div>
                <div class="detail-row">
                    <span>üéØ T·ªïng ƒëi·ªÉm cu·ªëi:</span>
                    <span class="highlight">${tongDiem.toFixed(1)}</span>
                </div>
                <div class="detail-row">
                    <span>üìã ƒêi·ªÉm chu·∫©n:</span>
                    <span class="highlight">${diemChuan}</span>
                </div>
                <div class="detail-row">
                    <span>‚úÖ K·∫øt qu·∫£:</span>
                    <span class="highlight">${lyDo}</span>
                </div>
            `;

        // Thay ƒë·ªïi m√†u s·∫Øc v√† hi·ªÉn th·ªã
        if (doDieu) {
          ketQuaDiv.classList.remove("fail");
        } else {
          ketQuaDiv.classList.add("fail");
        }

        // Hi·ªÉn th·ªã v·ªõi hi·ªáu ·ª©ng
        ketQuaDiv.classList.add("show");

        // Scroll ƒë·∫øn k·∫øt qu·∫£
        setTimeout(() => {
          ketQuaDiv.scrollIntoView({ behavior: "smooth", block: "center" });
        }, 200);
      }

      // Event listeners
      document.addEventListener("keypress", function (e) {
        if (e.key === "Enter") {
          tinhDiem();
        }
      });

      // Validation real-time
      document.querySelectorAll('input[type="number"]').forEach((input) => {
        input.addEventListener("input", function () {
          const value = parseFloat(this.value);
          if (this.id === "diemChuan") {
            if (value > 30) this.value = 30;
          } else if (this.id.startsWith("diemMon")) {
            if (value > 10) this.value = 10;
          }
          if (value < 0) this.value = 0;
        });
      });

      // Reset k·∫øt qu·∫£ khi thay ƒë·ªïi input
      document.querySelectorAll("input, select").forEach((element) => {
        element.addEventListener("change", function () {
          document.getElementById("ketQua").classList.remove("show");
        });
      });
    </script>
  </body>
</html>
